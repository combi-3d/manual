
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Manual of CoMBI">
      
      
        <meta name="author" content="Tajika Y.">
      
      
      
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.6">
    
    
      
        <title>Camera terminal カメラシャッター制御の3端子 - Manual of CoMBI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#camera-terminal-3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Manual of CoMBI" class="md-header__button md-logo" aria-label="Manual of CoMBI" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Manual of CoMBI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Camera terminal カメラシャッター制御の3端子
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Manual of CoMBI" class="md-nav__button md-logo" aria-label="Manual of CoMBI" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Manual of CoMBI
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Top page
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation/導入
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation/導入
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devices/system/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Overview/概要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devices/camera/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Imaging devices/カメラなど
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devices/selfmade/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Self-made devices/自作装置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devices/computer/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Computer and storage/コンピュータとストレージ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devices/application/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Applications/アプリケーション
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Instruction/操作
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Instruction/操作
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/frozenblock/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frozen Block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/paraffinblock/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paraffin Block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/camerasettings/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camera Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/tethering/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tethering (optional)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/combi-u/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoMBI-U (Universal)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/combi-c/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoMBI-C (Cryostat)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/combi-s/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoMBI-S (Sliding, motorized)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/combi-s-m/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoMBI-S (Sliding, manual)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/combi-r/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoMBI-R (Rotary, manual)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Image Processing/画像処理
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Image Processing/画像処理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/introduction/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview/概要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/rawjpeg/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAW to JPEG conversion/RAW現像
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/scale/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resizing and Reducing/画像の縮小
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/registration/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image Registration/ズレ補正
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/automation/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automation/自動処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/3dslicer/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3D Reconstruction, 3D slicer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/icy/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3D Reconstruction, Icy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/horos/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3D Reconstruction, Horos/OsiriX
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/correlation/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Correlation of 2D and 3D images/3D像に切片位置を示す
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/EDF/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extended Depth of Field/深度合成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image-processing/ilastik/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Segmentation by ilastik/セグメンテーション
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gallery/gallery/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gallery/作品集
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../publication/publication/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publications/論文
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Electronics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Electronics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ATmega328P/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ATmega328P standalone/単体利用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Arduino_serialplot/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arduino Serial Plotter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Arduino_micro/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arduino micro bootloader/書き換え
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Arduino_USBcable/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arduino USB cable/ケーブル相性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terminal/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crimped terminal/圧着端子
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vender/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Venders/パーツの入手先
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mkdocs/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mkdocs-material/HPづくり
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camera terminal/カメラ端子
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rstudio/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rstudio/練習中
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macgpu/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3Ddata on Mac
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../KiCAD/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KiCAD PCD design
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#character-of-terminals" class="md-nav__link">
    <span class="md-ellipsis">
      Character of terminals/ 端子の性質
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optocoupler-solid-state-relay" class="md-nav__link">
    <span class="md-ellipsis">
      Optocoupler, Solid state relay / フォトカプラ、フォトリレー
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    <span class="md-ellipsis">
      Code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="camera-terminal-3">Camera terminal カメラシャッター制御の3端子</h1>
<p>(2022.8.18 Thank you M! for cooperation in this varidation.)</p>
<p>The terminals for shutter control are basically the same among companies, and can be controlled by two optocouplers. However, there are some differences in electrical characteristics, and care must be taken when creating circuits and codes.</p>
<p><span style="color:#444C99;">4社のカメラ端子の性質を検証しました。</span></p>
<h2 id="character-of-terminals">Character of terminals/ 端子の性質</h2>
<table>
<thead>
<tr>
<th>Model</th>
<th>Year of launch</th>
<th>Required terminals for release</th>
<th>Polarity of GND and Release</th>
<th>Min. contact time required for release</th>
<th>Min. resistant values to inhibit release (right polarity, inverted polarity)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fuji X-T30II</td>
<td>2021</td>
<td>GND+Release</td>
<td>Yes</td>
<td>45 msec</td>
<td>0.5kΩ, — （ごく小さな電圧で端子を制御しているらしい、電圧計測はしていない）</td>
</tr>
<tr>
<td>Sony a7RIII</td>
<td>2017</td>
<td>GND+Hold+Release</td>
<td>No</td>
<td>1 msec</td>
<td>12kΩ, 11kΩ</td>
</tr>
<tr>
<td>Nikon D810</td>
<td>2014</td>
<td>GND+Hold+Release</td>
<td>No</td>
<td>2 msec</td>
<td>4.5kΩ, 4kΩ</td>
</tr>
<tr>
<td>Canon 60D</td>
<td>2010</td>
<td>GND+Release</td>
<td>No</td>
<td>3 msec</td>
<td>30kΩ, 30kΩ(電圧高め)</td>
</tr>
</tbody>
</table>
<ul>
<li>Focus Hold端子の必要性は、機種で異なる。CoMBIでは３端子を接続させる仕様で、各社に対応する。</li>
<li>極性というよりは、接続の方向というべきか。フォトカプラのエミッタとコレクタを、カメラシャッター端子のGNDとRelease（またはFocus Hold）のどちらの接続するかということ。フォトカプラはどちらの方向でも働きはするが、耐電圧が異なる。その影響か、方向（極性）を選ぶ機種と選ばない機種があるようだ。CoMBI基板は方向を気にせずデザインし、フォトカプラTLP785を使っている。フォトリレーTLP222Aに交換すれば方向を選ぶ機種にも対応する。</li>
<li>リリースするために必要な、端子接続時間は、機種により異なる。CoMBIでは、開発世代によって20〜200　msecを使用してきた。最新版CoMBIでは、150 msecとして各社に対応する。</li>
<li>カメラが端子を制御するための電圧は、機種により異なる。その影響か、フォトカプラと接続する方向（極性）を選ぶ機種と選ばない機種があるようだ。CoMBI基板は方向を気にせずデザインし、フォトカプラTLP785を使っている。フォトリレーTLP222Aに交換すれば方向を選ぶ機種にも対応する。</li>
</ul>
<h2 id="optocoupler-solid-state-relay">Optocoupler, Solid state relay / フォトカプラ、フォトリレー</h2>
<ul>
<li>Use optocoupler (Toshiba TLP785) with R220ohm and 5V signal, or photorelay (Solid state relay, Toshiba TLP222A) with R510ohm and 5V signal.</li>
<li>Check the lot of optocoupler before use. 6 different lots were checked, and one might have an issue on the output (emitter and collector), which caused the Nikon D810 to select the direction of connection (polarity). The output may have the higher resistance. Optocouplers were bought some years ago, thus there remains possibility of deterioration.</li>
<li>Optocoupler has the withstand voltages; Pin 4 collector to 3 emitter 80V, and Pin 3 emitter to 4 collector 7V. Voltage between GND and Release seems to be from 1.8V (Olympus) to 3.2V (Canon). Thus, either direction may work, but connections of Pin3 emitter with GND, and Pin4 collector with Release (or Focus hold), may be preferred.</li>
<li>Solid state relay (TLP222A) can accept both direction of camera terminal. The difference between a coupler and a relay is in the speed of response: a coupler connects a circuit (switches) in a few µsec and a relay in a few msec. Although this is a large difference in value, we believe it has no effect on the CoMBI imaging.
<br><br></li>
<li><span style="color:#444C99;">フォトカプラ（Optocoupler, Toshiba TLP785, R220ohm, 5Vシグナル）を使うか、両方向対応のフォトリレー（Solid state relay, Toshiba TLP222A, R510ohm, 5Vシグナル）を使う。</span></li>
<li><span style="color:#444C99;">フォトカプラ等は、使用前にロットチェックすること。６種のロットをチェックしたところ、１種で出力端子があやしく、Nikon D810が接続の方向（極性）を選ぶようになってしまった。抵抗が高い?のかもしれない。数年前に買い置きしていたものだったので、もしかしたら劣化かもしれない。</span></li>
<li><span style="color:#444C99;">フォトカプラ（Optocoupler, Toshiba TLP785）の耐電圧は、Pin4 collector to Pin3 emitterの方向では80V、Pin3 collector to Pin4 emitterの方向では7Vである。カメラ端子には、カメラ本体から1.8V（Olympus）から3.3V（Canon）の電圧がかかっているらしいため、どちらの方向に接続しても安全に作動するはずである。しかしながら、接続の方向は、Pin3 emitter = GND, Pin4 collector = Release (またはFocus Hold)がよさそうである。カメラの仕様違いや、フォトカプラのロット差の影響で、上記の方向でしか働かなくなる場合があるため。（現状のCoMBI-Univ基板は逆方向を使用しているので、次回の基板発注で変更しようかな）</span></li>
<li><span style="color:#444C99;">フォトリレー（TLP222A）を使えば、方向を気にすることなく制作できる。カプラとリレーの違いは、反応の速さにあり、カプラは数µsec、リレーは数msecで回路を接続（スイッチング）する。値としては大きな差だが、実際のCoMBI撮影には影響がないと考えている。</span></li>
</ul>
<h2 id="code">Code</h2>
<p>For Arduino, delay(150) is used. As a sufficient contact time, Fuji's 45 msec was appropriately multiplied by 3, and I desided to use 150 msec. However, the delay function does not work if you use it in attachInterrupt(). Instead, use delayMicroseconds() as below.</p>
<pre><code>int contactTime = 150;
for(int j=0;j&lt;contactTime;j++){
    delayMicroseconds(1000);
}
</code></pre>
<p><span style="color:#444C99;">
Arduinoの場合、delay(150)にした。十分な接触時間として、Fujiの45msecを適当に3倍、150 msecとした。開発中は20〜200msec、主に200msecを使ってきたので、長過ぎることはない。ただし、attachInterrrupt()のなかでは、delay関数が働きません。かわりに、delaymicroseconds()を使います。delaymicrosecondの設定最大値は約1600 microsecondsらしいので、1000に設定し、forを使って繰り返します。</span></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2021 Yuki Tajika, CC BY 4.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.e1c3ead8.min.js"></script>
      
    
  </body>
</html>